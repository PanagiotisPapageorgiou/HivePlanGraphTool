=======ΣΥΣΤΗΜΑ ΜΕΤΑΦΡΑΣΗΣ HIVE ΠΛΑΝΩΝ ΣΕ EXAREME ΠΛΑΝΑ============

1.Για να εγκαταστήσετε το σύστημα ΠΡΩΤΑ ανοίξτε το φάκελο modifiedExareme.
Στο φάκελο αυτό θα βρείτε αρχεία του Exareme τα οποία χρειάστηκε να τροποποιηθούν με την έγκριση του Ιωάννη Φουφούλα.

Προσθέστε τις τροποποιήσεις στο Exareme branch που κάνετε develop και έπειτα μεταγλωττίστε.

Το παραπάνω βήμα χρειάζεται ώστε το σύστημα μετάφρασης να δουλεύει σωστά καθώς δημιουργία αντικείμενα των τροποποιημένων κλάσσεων του Exareme και το Exareme από την άλλη χρειάστηκε τροποποίηση ως προς τον τρόπο που χειρίζεται Hive tables (MadisProcessExecutor)

2. Μεταγλωττίστε το HiveOperatorGraph. Σχόλια για τον τρόπο λειτουργίας του υπάρχουν παντού στο project αλλά εν συντομία θα εξηγήσω πως λειτουργεί.

Το σύστημα βασίζεται στο Hadoop MiniCluster. Αρχικά, δημιουργείται tables/partitions που θέλετε στο setup.sql script στα resources. Στη συνέχεια βάζεται τα queries που θέλετε να τρέξετε ή να πάρετε τα Μεταγλωττισμένα Πλάνα τους σε άλλο script για παράδειγμα: allExperiments.sql.

Όταν ξεκινήσει η εκτέλεση το σύστημα θα σας ρωτάει για κάθε query τι θέλετε να κάνετε. Αν θέλετε να πάρετε το πλάνο για Exareme επιλέγετε Compile and Extract OperatorGraph.

Αυτό θα ξεκινήσει τη διαδικασία μετατροπής του Hive πλάνου σε Exareme πλάνο.

Υποστηρίζονται όλοι οι τελεστές της SQL. Ενδεικτικά δείτε τα queries στο allExperiments.sql. Ωστόσο, υπάρχουν κάποιες περιπτώσεις ακόμα και απλών queries τα οποία δεν λειτουργούν 100% σωστά και δεν έχουν επιδιορθωθεί λόγω έλλειψης χρόνου. Τα πιθανά προβλήματα όμως σε αυτό το κομμάτι επιλύονται εύκολα καθώς το σύστημα υποστηρίζει πολύπλοκα queries όπως αυτά στο allExperiments.sql .

Επίσης, υποστηρίζονται partitions αλλά με λογική η οποία αντιστοιχεί στη λογική του Καρτεσιανού Γινομένου για συνδυασμό partitions της ExaDFL και με το αποτέλεσμα να ενώνετε 1 partition. ΠΡΟΣΟΧΗ - Τα partitions δεν έχουν δοκιμαστεί διεξοδικά.

Όταν μεταφραστεί το πλάνο το αποτελέσμα θα τοποθετηθεί στα resources και θα έχει όνομα exaremePlan.json

(Η μετάφραση περιλαμβάνει και τη διαδικασία της μετατροπής Hive table σε SQLite table μέσα στο HDFS γι αυτό μπορεί να καθυστερεί αν το query έχει μεγάλα table).

3. Για να εκτελέσετε το πλάνο στο Exareme μπορείτε να το μεταφέρετε στο project του Exareme και να το τρέξετε μέσω της κλάσης HiveToExaremePlanTest η οποία χρησιμοποιεί Exareme Mini Cluster και κάνει submit το πλάνο. 

Προσέξτε πριν την εκκίνηση του HiveOperatorGraphProducer να ρυθμίσετε τη main (OperatorGraphProducerMain) ώστε να χρησιμοποιεί τη σωστή IP διεύθυνση για master node του Exareme Mini Cluster. 

Ακόμη, προσέξτε στο arm.properties του Exareme να επιλέξετε το HDFS σαν FileSystem και να βάλετε το σωστό port για Hadoop Namenode. Το port αναγράφεται κάθε φορά που τρέχει το HiveOperatorGraphProducer στο αρχείο clusterInfo.txt

Η επιτυχής εκτέλεση τοποθετεί το αποτέλεσμα στο HDFS οπότε μπορείτε να χρησιμοποιήσετε την κλάση ArmStorageClientTest για να το πάρετε και να το ελένξετε.
-----------------------------------------------------------------------

Με συγχωρείτε για τις πολλαπλές οδήγιες.

Για οποιαδήποτε απορία και βοήθεια ενσωμάτωσης του κώδικα παρακαλώ επικοινωνήστε μαζί μου στο: 6930874280 και στο panopapageorgiou@yahoo.gr ή sdi1100151@di.uoa.gr

Θα χαρώ πολύ να βοηθήσω στην ενσωμάτωση του κώδικα ή να εξηγήσω οτιδήποτε από αυτά που έφτιαξα.

Σας ευχαριστώ πολύ για το χρόνο σας!

